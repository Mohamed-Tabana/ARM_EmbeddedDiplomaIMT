/*
 * TFT_prg.c
 *
 *  Created on: Jun 16, 2023
 *      Author: ALTAWKEL
 */
#include "stdio.h"
#include "TFT_int.h"
#include "SPI_int.h"
#include "GPIO_Interface.h"
#include "SysTick_Interface.h"

void TFT_vWriteCommand(uint8_t copy_u8Command)
{
	MGPIO_vSetOutputPinValue(Control_Pin.PIN_Port,Control_Pin.PIN_Number,OUTPUT_LOW);
	SPI_Transceiving( copy_u8Command);


}
void TFT_vWriteData(uint8_t copy_u8Data)
{
	MGPIO_vSetOutputPinValue(Control_Pin.PIN_Port,Control_Pin.PIN_Number,OUTPUT_HIGH);
	SPI_Transceiving( copy_u8Data);

}
void TFT_vTFTSequense()
{
	MSTK_vInit();
	MGPIO_vSetOutputPinValue(Reset_Pin.PIN_Port,Reset_Pin.PIN_Number,OUTPUT_HIGH);
	MSTK_vSetBusyWait(200);
	MGPIO_vSetOutputPinValue(Reset_Pin.PIN_Port,Reset_Pin.PIN_Number,OUTPUT_LOW);
	MSTK_vSetBusyWait(2);
	MGPIO_vSetOutputPinValue(Reset_Pin.PIN_Port,Reset_Pin.PIN_Number,OUTPUT_HIGH);
	MSTK_vSetBusyWait(200);
	MGPIO_vSetOutputPinValue(Reset_Pin.PIN_Port,Reset_Pin.PIN_Number,OUTPUT_LOW);
	MSTK_vSetBusyWait(200);
	MGPIO_vSetOutputPinValue(Reset_Pin.PIN_Port,Reset_Pin.PIN_Number,OUTPUT_HIGH);
	MSTK_vSetBusyWait(240);



}
void TFT_vInit()
{
	TFT_vTFTSequense();
	TFT_vWriteCommand(0x11); // SLPOUT
	MSTK_vSetBusyWait(20);
	TFT_vWriteCommand(0x3A);
	TFT_vWriteData(0x05);
	TFT_vWriteCommand(0x29);

}
void TFT_vDisplay(uint16_t* copy_pu16ArrayImage);
